
: ZEROLBT \ IS DAC3W ADT WITHOUT THE CHIP SELECTS
  ?OVR  \ Report OVR flag status.
\ THESE TWO BYTES SHOULD LOOP BACK
	0h DUP CR ." 1RST BYTE WRITTEN = " .H  \ print out the byte to write
	~TXE	SPI3-DR C!  \ wait for TXE and write 
	~RXNE	SPI3-DR C@  \ wait for RXNE and read
	CR ." 1RST BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
	0 DUP CR ." 2ND BYTE WRITTEN = "  .H
	~TXE	SPI3-DR C!
	~RXNE	SPI3-DR C@
 
	CR ." 2ND BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
CR
.S
;

: FFLBT \ IS DAC3W ADT WITHOUT THE CHIP SELECTS
  ?OVR  \ Report OVR flag status.
\ THESE TWO BYTES SHOULD LOOP BACK
	0FFh DUP CR ." 1RST BYTE WRITTEN = " .H  \ print out the byte to write
	~TXE	SPI3-DR C!  \ wait for TXE and write 
	~RXNE	SPI3-DR C@  \ wait for RXNE and read
	CR ." 1RST BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
	0FFh DUP CR ." 2ND BYTE WRITTEN = "  .H
	~TXE	SPI3-DR C!
	~RXNE	SPI3-DR C@
 
	CR ." 2ND BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
CR
.S
;

: APLBT \ IS DAC3W ADT WITHOUT THE CHIP SELECTS
  ?OVR  \ Report OVR flag status.
\ THESE TWO BYTES SHOULD LOOP BACK
	055h DUP CR ." 1RST BYTE WRITTEN = " .H  \ print out the byte to write
	~TXE	SPI3-DR C!  \ wait for TXE and write 
	~RXNE	SPI3-DR C@  \ wait for RXNE and read
	CR ." 1RST BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
	0AAh DUP CR ." 2ND BYTE WRITTEN = "  .H
	~TXE	SPI3-DR C!
	~RXNE	SPI3-DR C@
 
	CR ." 2ND BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
CR
.S
;

: ~APLBT \ IS DAC3W ADT WITHOUT THE CHIP SELECTS
  ?OVR  \ Report OVR flag status.
\ THESE TWO BYTES SHOULD LOOP BACK
	0AAh DUP CR ." 1RST BYTE WRITTEN = " .H  \ print out the byte to write
	~TXE	SPI3-DR C!  \ wait for TXE and write 
	~RXNE	SPI3-DR C@  \ wait for RXNE and read
	CR ." 1RST BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
	055h DUP CR ." 2ND BYTE WRITTEN = "  .H
	~TXE	SPI3-DR C!
	~RXNE	SPI3-DR C@
 
	CR ." 2ND BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
CR
.S
;

: 2SLBT \ ( 2ND 1RST -- ) 
  ?OVR  \ Report OVR flag status.
\ THESE TWO BYTES SHOULD LOOP BACK
	DUP CR ." 1RST BYTE WRITTEN = " .H  \ print out the byte to write
	~TXE	SPI3-DR C!  \ wait for TXE and write 
	~RXNE	SPI3-DR C@  \ wait for RXNE and read
	CR ." 1RST BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
	DUP CR ." 2ND BYTE WRITTEN = "  .H
	~TXE	SPI3-DR C!
	~RXNE	SPI3-DR C@
 
	CR ." 2ND BYTE READ BACK SHOULD = WRITE = " .H  \ EXPECTED WHAT WAS WRITTEN
  ?OVR
CR
.S
;

\ ZEROLBT


\ FFLBT


\ FFLBT

\ APLBT


\ ~APLBT


lSLBT


